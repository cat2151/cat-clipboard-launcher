Last updated: 2025-12-02

# Project Overview

## プロジェクト概要
- クリップボードの内容に応じて、あらかじめ設定されたアプリケーションやスクリプトを起動するランチャーです。
- ユーザーが明示的に起動し、クリップボードの内容にマッチした候補からA～Zキーで実行アクションを選択します。
- TOML形式の設定ファイルにより、クリップボードの内容と対応するコマンドを柔軟に定義・自動判別できます。

## 技術スタック
- フロントエンド: PythonのTUI (Text User Interface) 関連技術を用いて、シンプルな選択画面を提供します。
- 音楽・オーディオ: プロジェクト自体は音楽・オーディオ処理を行いませんが、ユーザーがクリップボードにコピーしたMML（Music Macro Language）などのコンテンツを外部の音楽アプリケーションで再生するといった用途が想定されています。
- 開発ツール: Visual Studio Code (`.vscode/settings.json`) が開発環境として利用されており、コード編集やデバッグを支援します。
- テスト: Pytest (`pytest`) を使用して、プロジェクトの機能が意図通りに動作することを検証しています。
- ビルドツール: Pythonの標準的なパッケージ管理ツールであるpip (`requirements.txt`) を用いて、依存関係の管理とインストールを行います。
- 言語機能: プロジェクト全体はPythonで記述されており、Pythonの豊富な標準ライブラリと強力なテキスト処理能力を活用しています。
- 自動化・CI/CD: 明示的なCI/CDパイプラインの設定はありませんが、コードのフォーマットやリンティングはRuffを使用して自動化可能です。
- 開発標準: Ruff (`ruff.toml`) によるコードの静的解析とフォーマット、EditorConfig (`.editorconfig`) による一貫したコーディングスタイル定義が行われています。

## ファイル階層ツリー
```
📄 .editorconfig
📄 .gitignore
📁 .vscode/
  📊 settings.json
📄 LICENSE
📖 README.md
📖 REFACTORING.md
📄 _config.yml
📁 examples/
  📄 config.toml
📁 generated-docs/
🌐 googled947dc864c270e07.html
📁 issue-notes/
  📖 2_spec.md
📄 pytest.ini
📄 requirements.txt
📄 ruff.toml
📁 src/
  📄 __init__.py
  📄 clipboard.py
  📄 config.py
  📄 executor.py
  📄 input_handler.py
  📄 launcher.py
  📄 pattern_matcher.py
  📄 tui.py
📁 tests/
  📄 __init__.py
  📄 test_launcher.py
```

## ファイル詳細説明
- **.editorconfig**: 異なるエディタやIDE間で一貫したコーディングスタイル（インデント、改行コードなど）を維持するための設定ファイルです。
- **.gitignore**: Gitがバージョン管理の対象から除外するファイルやディレクトリを指定します。
- **.vscode/settings.json**: Visual Studio Codeのワークスペース固有の設定を定義するファイルで、言語ごとのフォーマットやリンティングの設定などが含まれます。
- **LICENSE**: プロジェクトのライセンス情報（ソフトウェアの使用、配布、変更に関する条件）が記述されています。
- **README.md**: プロジェクトの概要、インストール方法、使い方、設定例、開発に関する情報などが記載された主要なドキュメントファイルです。
- **REFACTORING.md**: プロジェクトのリファクタリング計画や、過去のリファクタリングに関する備忘録を記録するためのファイルです。
- **_config.yml**: GitHub Pagesなどで使用されるJekyllのサイト設定ファイルである可能性があります。
- **examples/config.toml**: `cat-clipboard-launcher` の設定ファイルの具体的な使用例が記述されており、ユーザーが新しい設定を作成する際の参考となります。
- **generated-docs/**: 自動生成されたドキュメントやレポートを格納するためのディレクトリです。
- **googled947dc864c270e07.html**: Googleサイト所有権の確認などに用いられる、特定のWebサービス認証用ファイルです。プロジェクトの機能とは直接関係ありません。
- **issue-notes/2_spec.md**: プロジェクトのIssue #2（特定の課題や機能要望）に関する詳細な仕様や検討事項をまとめたドキュメントです。
- **pytest.ini**: Pythonのテストフレームワークであるpytestの設定ファイルです。テストの実行オプションなどが定義されます。
- **requirements.txt**: プロジェクトが依存するPythonパッケージとそのバージョンをリストアップしたファイルです。`pip install -r` コマンドで依存関係をまとめてインストールできます。
- **ruff.toml**: PythonのリンターおよびフォーマッターであるRuffの設定ファイルです。コードスタイルのルールや自動修正の設定が含まれます。
- **src/**: プロジェクトの主要なソースコードが格納されているディレクトリです。
    - **src/__init__.py**: `src` ディレクトリがPythonパッケージであることを示し、パッケージの初期化処理を定義できます。
    - **src/clipboard.py**: クリップボードからのテキスト読み取り、一時ファイルへの書き出し、コマンド実行結果のクリップボードへの書き戻しといったクリップボード関連の操作を管理します。
    - **src/config.py**: `config.toml` ファイルを読み込み、解析して、ランチャーの設定オブジェクトを生成する機能を提供します。
    - **src/executor.py**: ユーザーが選択したコマンドを実際に実行し、その出力や結果を処理する機能（例：一時ファイルへの書き込み、クリップボードへの書き戻し）を担います。
    - **src/input_handler.py**: ユーザーのキーボード入力（例：A～Zキー選択、ESCキー終了）を待ち受け、その入力をプログラム内のアクションに変換する機能を提供します。
    - **src/launcher.py**: `cat-clipboard-launcher` のメインエントリポイントであり、プログラム全体のフロー（設定のロード、クリップボード処理、TUI表示、コマンド実行）を統括します。
    - **src/pattern_matcher.py**: クリップボードの内容と `config.toml` で定義された正規表現パターンを比較し、マッチするパターンを特定するロジックを実装しています。
    - **src/tui.py**: Text User Interface (TUI) の描画と表示を担当します。クリップボードの内容表示、マッチしたパターンリストの表示、ユーザーへの選択プロンプトなどを管理します。
- **tests/**: プロジェクトのテストコードが格納されているディレクトリです。
    - **tests/__init__.py**: `tests` ディレクトリがPythonパッケージであることを示します。
    - **tests/test_launcher.py**: `src/launcher.py` やその他のコア機能に対するユニットテストおよび統合テストが含まれています。

## 関数詳細説明
このプロジェクトでは、各ファイルが特定の役割を持つ関数群を提供しています。具体的な関数名とそのシグネチャを詳細に分析するための情報はありませんが、各ファイルの役割から以下の機能を持つ関数群が推測されます。

- **src/clipboard.py**:
    - **役割**: クリップボードとのI/O操作を抽象化します。
    - **想定機能**: クリップボードからテキストを読み取る機能、一時ファイルにテキストを保存する機能、特定のファイル内容をクリップボードに書き戻す機能など。
- **src/config.py**:
    - **役割**: TOML形式の設定ファイルを読み込み、プログラムで利用可能なデータ構造にパースします。
    - **想定機能**: 指定されたパスから設定ファイルをロードする機能、パースした設定をバリデートする機能、設定オブジェクトを提供する機能など。
- **src/executor.py**:
    - **役割**: ユーザーが選択したコマンドを実行し、その結果を処理します。
    - **想定機能**: コマンド文字列を解析し、外部プロセスとして実行する機能、コマンドの標準出力やエラーをキャプチャする機能、出力ファイルをクリップボードに書き戻す処理をトリガーする機能など。
- **src/input_handler.py**:
    - **役割**: キーボードからのユーザー入力を受け付け、プログラムの制御フローを決定します。
    - **想定機能**: シングルキー入力を非同期で待機する機能、入力されたキーに対応するアクション（例: 'a'〜'z'での選択、ESCでの終了）を返す機能など。
- **src/launcher.py**:
    - **役割**: プログラムのエントリポイントであり、各モジュールの機能を統合して全体の実行フローを管理します。
    - **想定機能**: コマンドライン引数をパースし、設定ファイルをロードする機能、クリップボードの内容を取得する機能、パターンマッチングを実行する機能、TUIを表示しユーザー入力を受け付ける機能、選択されたコマンドを実行する機能など、ランチャーのライフサイクル全体を制御するメイン関数群。
- **src/pattern_matcher.py**:
    - **役割**: クリップボードのテキストと定義された正規表現パターンを比較し、一致するパターンを特定します。
    - **想定機能**: クリップボードの内容と複数の正規表現パターンリストを引数に取り、マッチしたパターンのリストを返す機能など。
- **src/tui.py**:
    - **役割**: テキストベースのユーザーインターフェースを描画し、ユーザーへの情報提示と選択を可能にします。
    - **想定機能**: クリップボードの最初の数行を表示する機能、マッチしたパターンリストとそれに対応する選択キー（A-Z）を表示する機能、画面をクリアし更新する機能、ユーザーに選択を促すプロンプトを表示する機能など。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析するための詳細なソースコード情報が提供されていないため、この項目は生成できませんでした。

---
Generated at: 2025-12-02 07:06:11 JST
